var RBTree=function(){function a(b){a.offset&&b[0]==="."&&(b=a.offset+b),b=a._aliases[b]||b;var c=a._modules[b];if(!c||!c.fn)throw new Error("no such module: "+b);if(c.module)return c.module.exports;var d=a.offset;a.offset=c.offset;var e=c.module={exports:{}};return a.main||(a.main=e),c.fn.call(window,window,e,e.exports,a),a.offset=d,e.exports}return a.register=function(b,c,d){a._modules[b]={offset:c,fn:d}},a.alias=function(b,c){a._aliases[b]=c},a._aliases={},a._modules={},a.register("./treebase","",function(a,b,c,d,e,f){function g(){}function h(a){this._tree=a,this._ancestors=[],this._cursor=null}g.prototype.clear=function(){this._root=null,this.size=0},g.prototype.find=function(a){var b=this._root;while(b!==null){var c=this._comparator(a,b.data);if(c===0)return b.data;b=b.get_child(c>0)}return null},g.prototype.min=function(){var a=this._root;if(a===null)return null;while(a.left!==null)a=a.left;return a.data},g.prototype.max=function(){var a=this._root;if(a===null)return null;while(a.right!==null)a=a.right;return a.data},g.prototype.iterator=function(){return new h(this)},g.prototype.each=function(a){var b=this.iterator(),c;while((c=b.next())!==null)a(c)},g.prototype.reach=function(a){var b=this.iterator(),c;while((c=b.prev())!==null)a(c)},h.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},h.prototype.next=function(){if(this._cursor===null){var a=this._tree._root;a!==null&&this._minNode(a)}else if(this._cursor.right===null){var b;do{b=this._cursor;if(!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===b)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},h.prototype.prev=function(){if(this._cursor===null){var a=this._tree._root;a!==null&&this._maxNode(a)}else if(this._cursor.left===null){var b;do{b=this._cursor;if(!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===b)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},h.prototype._minNode=function(a){while(a.left!==null)this._ancestors.push(a),a=a.left;this._cursor=a},h.prototype._maxNode=function(a){while(a.right!==null)this._ancestors.push(a),a=a.right;this._cursor=a},b.exports=g}),a.register("rbtree","",function(a,b,c,d,e,f){function h(a){this.data=a,this.left=null,this.right=null,this.red=!0}function i(a){this._root=null,this._comparator=a,this.size=0}function j(a){return a!==null&&a.red}function k(a,b){var c=a.get_child(!b);return a.set_child(!b,c.get_child(b)),c.set_child(b,a),a.red=!0,c.red=!1,c}function l(a,b){return a.set_child(!b,k(a.get_child(!b),!b)),k(a,b)}var g=d("./treebase");h.prototype.get_child=function(a){return a?this.right:this.left},h.prototype.set_child=function(a,b){a?this.right=b:this.left=b},i.prototype=new g,i.prototype.insert=function(a){var b=!1;if(this._root===null)this._root=new h(a),b=!0,this.size++;else{var c=new h(undefined),d=0,e=0,f=null,g=c,i=null,m=this._root;g.right=this._root;for(;;){m===null?(m=new h(a),i.set_child(d,m),b=!0,this.size++):j(m.left)&&j(m.right)&&(m.red=!0,m.left.red=!1,m.right.red=!1);if(j(m)&&j(i)){var n=g.right===f;m===i.get_child(e)?g.set_child(n,k(f,!e)):g.set_child(n,l(f,!e))}var o=this._comparator(m.data,a);if(o===0)break;e=d,d=o<0,f!==null&&(g=f),f=i,i=m,m=m.get_child(d)}this._root=c.right}return this._root.red=!1,b},i.prototype.remove=function(a){if(this._root===null)return!1;var b=new h(undefined),c=b;c.right=this._root;var d=null,e=null,f=null,g=1;while(c.get_child(g)!==null){var i=g;e=d,d=c,c=c.get_child(g);var m=this._comparator(a,c.data);g=m>0,m===0&&(f=c);if(!j(c)&&!j(c.get_child(g)))if(j(c.get_child(!g))){var n=k(c,g);d.set_child(i,n),d=n}else if(!j(c.get_child(!g))){var o=d.get_child(!i);if(o!==null)if(!j(o.get_child(!i))&&!j(o.get_child(i)))d.red=!1,o.red=!0,c.red=!0;else{var p=e.right===d;j(o.get_child(i))?e.set_child(p,l(d,i)):j(o.get_child(!i))&&e.set_child(p,k(d,i));var q=e.get_child(p);q.red=!0,c.red=!0,q.left.red=!1,q.right.red=!1}}}return f!==null&&(f.data=c.data,d.set_child(d.right===c,c.get_child(c.left===null)),this.size--),this._root=b.right,this._root!==null&&(this._root.red=!1),f!==null},b.exports=i}),a("rbtree")}()
